<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Talkk Home</title>
<link rel="stylesheet" href="/static/home/home.css">
</head>

<body>

<!-- Floating background -->
<div class="bg-bubble" style="width:180px;height:180px;left:10%;top:20%;background:#8f00ff;"></div>
<div class="bg-bubble" style="width:220px;height:220px;left:70%;top:30%;background:#00f2fe;"></div>
<div class="bg-bubble" style="width:140px;height:140px;left:40%;top:70%;background:#ff0080;"></div>

<div class="top-bar">
    <div class="user">{{ user }}</div>
    <input class="search" placeholder="Search usersâ€¦">
    <div class="bell" onclick="toggleNotify()">
      ğŸ”” <span class="badge" id="badge">99+</span>
    </div>
</div>

<!-- Notification Panel -->
<div class="notify-panel" id="notify">
  <h3>Notifications</h3>
  <div class="notify-list" id="notifyList"></div>
</div>

<!-- SETTINGS PANEL -->
<div class="settings-panel" id="settings">
  <div class="setting-btn" onclick="toggleDark()">ğŸŒ— Dark Mode</div>
  <div class="setting-btn" onclick="window.location.href='/logout'">ğŸšª Logout</div>
</div>

<!-- Bottom Dock -->
<div class="bottom-nav">
  <div class="nav-btn">ğŸ <span>Home</span></div>
  <div class="nav-btn">ğŸ“¹<span>Video</span></div>
  <div class="nav-btn">ğŸ’¬<span>Chat</span></div>
  <div class="nav-btn">ğŸ‘¤<span>Profile</span></div>
  <div class="nav-btn" onclick="toggleSettings()">âš™ï¸<span>Settings</span></div>
</div>

<script>
const notify = document.getElementById("notify");
const settings = document.getElementById("settings");
const badge = document.getElementById("badge");

let notifyOpen=false;
let settingsOpen=false;

/* 100 Fake messages */
const messages=[
 "Hi ğŸ‘‹","New follower","Good morning â˜€ï¸","Missed call ğŸ“","Hey there",
 "Good night ğŸŒ™","Welcome to Talkk","You got a message","User liked you",
 "New request","Someone waved ğŸ‘‹","Friend joined","Chat available",
 "New ping","You are trending","Someone viewed you","Incoming call",
 "Profile updated","You have fans","Someone sent â¤ï¸","User online",
 "Hey ğŸ˜„","New activity","Buzz!","Alert","Notification",
 "Hey buddy","Good vibes","Someone sent Hi","Follow request",
 "New DM","Talk now","Message received","Someone smiled ğŸ˜Š",
 "New chat","Hey hello","Ping","Tap to reply","Someone is waiting",
 "Incoming video","Buzz buzz","New badge","Activity update",
 "Someone typed","Connection request","You got fame","Chat unlocked",
 "Someone joined","Welcome back","New wave ğŸ‘‹","Incoming message"
];

const list=document.getElementById("notifyList");
for(let i=0;i<100;i++){
  const div=document.createElement("div");
  div.className="notify-item";
  div.innerText=messages[i%messages.length];
  list.appendChild(div);
}

/* Notification toggle */
function toggleNotify(){
  notifyOpen=!notifyOpen;
  settingsOpen=false;
  settings.classList.remove("show");

  notify.classList.toggle("show");
  document.querySelector(".bell").classList.add("shake");

  badge.style.display="none";

  setTimeout(()=>document.querySelector(".bell").classList.remove("shake"),400);
  setTimeout(()=>{ if(notifyOpen){ notify.classList.remove("show"); notifyOpen=false; } },5000);
}

/* Settings toggle */
function toggleSettings(){
  settingsOpen=!settingsOpen;
  notifyOpen=false;
  notify.classList.remove("show");
  settings.classList.toggle("show");
}

/* Close on outside click */
document.body.addEventListener("click",e=>{
 if(!e.target.closest(".notify-panel") && !e.target.closest(".bell")){
   notify.classList.remove("show"); notifyOpen=false;
 }
 if(!e.target.closest(".settings-panel") && !e.target.closest(".nav-btn")){
   settings.classList.remove("show"); settingsOpen=false;
 }
})

function toggleDark(){
  document.body.classList.toggle("light");
}
</script>

</body>
</html>







